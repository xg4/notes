(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{"217d":function(i,t,e){i.exports={wrap:"profile-module_wrap_2j2yY",user:"profile-module_user_2QvtR",info:"profile-module_info_2gIAn",avatar:"profile-module_avatar_P2NcI",icon:"profile-module_icon_1E9Ty",group:"profile-module_group_1X04g",copyright:"profile-module_copyright_34gEn"}},"4bd4":function(i,t,e){"use strict";var n=e("4d26"),r=e.n(n),a=e("4f16"),o=e.n(a);t["a"]={props:{src:String,size:String},data:function(){return{loading:!0,error:!1}},watch:{src:function(){this.loading=!0,this.error=!1}},computed:{url:function(){return this.src||this.$store.state.user.avatar}},methods:{onLoad:function(){this.loading=!1},onError:function(){this.loading=!1,this.error=!0},renderPlaceholder:function(){var i=this.$createElement;return this.loading?i("div",{class:o.a.loading},[i("i",{class:r()("x-icon x-icon-img",o.a.icon)})]):this.error?i("div",{class:o.a.error},[i("i",{class:r()("x-icon x-icon-img-fail",o.a.icon)})]):void 0}},render:function(){var i=arguments[0];return i("div",{class:r()(o.a.avatar,o.a[this.size])},[this.renderPlaceholder(),i("transition",{attrs:{name:"animate-fade"}},[i("img",{directives:[{name:"show",value:!this.error}],attrs:{src:this.url},on:{load:this.onLoad,error:this.onError}})])])}}},"4f16":function(i,t,e){i.exports={avatar:"index-module_avatar_2tQ_M",sm:"index-module_sm_1nsGH",icon:"index-module_icon_3B6sM",lg:"index-module_lg_2k_pX",loading:"index-module_loading_1BYTB",error:"index-module_error_3HMDB"}},fd3e:function(i,t,e){"use strict";e.r(t);e("7f7f"),e("96cf");var n=e("3b8d"),r=e("4d26"),a=e.n(r),o=e("217d"),s=e.n(o),l=e("ed08"),c=e("4bd4");t["default"]={methods:{uploadFile:function(){var i=Object(n["a"])(regeneratorRuntime.mark(function i(t){var e,n,r;return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:if(e=t.target.files,n=e[0],n){i.next=4;break}return i.abrupt("return");case 4:return i.next=6,Object(l["g"])(n);case 6:r=i.sent,this.$store.dispatch("UPLOAD_DATA",r);case 8:case"end":return i.stop()}},i,this)}));function t(t){return i.apply(this,arguments)}return t}(),handleUpload:function(){var i=this;this.$dialog.confirm({title:"数据同步",message:"您确定要同步上传数据？\n备忘录将根据最后的更新时间进行合并"}).then(function(){i.$refs.file.click()}).catch(function(){})},handleDownload:function(){var i=this;this.$store.dispatch("DOWNLOAD_DATA").then(function(){}).catch(function(t){var e=t.message;i.$dialog({title:"下载失败",message:e})})}},render:function(){var i=arguments[0];return i("div",{class:s.a.wrap},[i("div",{class:s.a.user},[i("router-link",{class:s.a.avatar,attrs:{to:"/settings/avatar"}},[i(c["a"],{attrs:{size:"sm"}})]),i("div",{class:s.a.info},[i("p",[this.$store.state.user.name||"用户名"]),i("p",{class:"ellipsis"},["id:",this.$store.state.user.id])])]),i("van-cell-group",{class:s.a.group},[i("van-cell",{attrs:{title:"导出数据",isLink:!0},on:{click:this.handleDownload}},[i("i",{class:a()(s.a.icon,"x-icon x-icon-download"),slot:"icon"})]),i("van-cell",{attrs:{title:"导入数据",isLink:!0},on:{click:this.handleUpload}},[i("i",{class:a()(s.a.icon,"x-icon x-icon-upload"),slot:"icon"}),i("input",{style:{display:"none"},ref:"file",attrs:{type:"file"},on:{change:this.uploadFile}})])]),i("van-cell-group",[i("van-cell",{attrs:{title:"反馈",isLink:!0,url:"https://github.com/xg4/notes/issues"}},[i("i",{class:a()(s.a.icon,"x-icon x-icon-bug"),slot:"icon"})])]),i("small",{class:s.a.copyright},[i("a",{attrs:{href:"https://github.com/xg4/notes",target:"_blank"}},[i("i",{class:"x-icon x-icon-github-fill"})]),i("p",["© 2019 xg4"])])])}}}}]);