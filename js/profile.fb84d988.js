(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{"217d":function(t,i,e){t.exports={wrap:"profile-module_wrap_2j2yY",user:"profile-module_user_2QvtR",info:"profile-module_info_2gIAn",avatar:"profile-module_avatar_P2NcI",icon:"profile-module_icon_1E9Ty",copyright:"profile-module_copyright_34gEn"}},"4bd4":function(t,i,e){"use strict";var n=e("4d26"),r=e.n(n),a=e("4f16"),o=e.n(a);i["a"]={props:{src:String,size:String},data:function(){return{loading:!0,error:!1}},watch:{src:function(){this.loading=!0,this.error=!1}},computed:{url:function(){return this.src||this.$store.state.user.avatar}},methods:{onLoad:function(){this.loading=!1},onError:function(){this.loading=!1,this.error=!0},renderPlaceholder:function(){var t=this.$createElement;return this.loading?t("div",{class:o.a.loading},[t("i",{class:r()("x-icon x-icon-img",o.a.icon)})]):this.error?t("div",{class:o.a.error},[t("i",{class:r()("x-icon x-icon-img-fail",o.a.icon)})]):void 0}},render:function(){var t=arguments[0];return t("div",{class:r()(o.a.avatar,o.a[this.size])},[this.renderPlaceholder(),t("transition",{attrs:{name:"animate-fade"}},[t("img",{directives:[{name:"show",value:!this.error}],attrs:{src:this.url},on:{load:this.onLoad,error:this.onError}})])])}}},"4f16":function(t,i,e){t.exports={avatar:"index-module_avatar_2tQ_M",sm:"index-module_sm_1nsGH",icon:"index-module_icon_3B6sM",lg:"index-module_lg_2k_pX",loading:"index-module_loading_1BYTB",error:"index-module_error_3HMDB"}},fd3e:function(t,i,e){"use strict";e.r(i);e("7f7f"),e("96cf");var n=e("3b8d"),r=e("4d26"),a=e.n(r),o=e("217d"),s=e.n(o),l=e("ed08"),c=e("4bd4");i["default"]={methods:{uploadFile:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(i){var e,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=i.target.files,n=e[0],n){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,Object(l["g"])(n);case 6:r=t.sent,this.$store.dispatch("UPLOAD_DATA",r);case 8:case"end":return t.stop()}},t,this)}));function i(i){return t.apply(this,arguments)}return i}(),handleUpload:function(){var t=this;this.$dialog.confirm({title:"数据同步",message:"您确定要同步上传数据？\n备忘录将根据最后的更新时间进行合并"}).then(function(){t.$refs.file.click()}).catch(function(){})},handleDownload:function(){var t=this;this.$store.dispatch("DOWNLOAD_DATA").then(function(){}).catch(function(i){var e=i.message;t.$dialog({title:"下载失败",message:e})})}},render:function(){var t=arguments[0];return t("div",{class:s.a.wrap},[t("div",{class:s.a.user},[t("router-link",{class:s.a.avatar,attrs:{to:"/settings/avatar"}},[t(c["a"],{attrs:{size:"sm"}})]),t("div",{class:s.a.info},[t("p",[this.$store.state.user.name||"用户名"]),t("p",{class:"ellipsis"},["id:",this.$store.state.user.id])])]),t("van-cell-group",[t("van-cell",{attrs:{title:"导出数据","is-link":!0},on:{click:this.handleDownload}},[t("i",{class:a()(s.a.icon,"x-icon x-icon-download"),slot:"icon"})]),t("van-cell",{attrs:{title:"导入数据","is-link":!0},on:{click:this.handleUpload}},[t("i",{class:a()(s.a.icon,"x-icon x-icon-upload"),slot:"icon"}),t("input",{style:{display:"none"},ref:"file",attrs:{type:"file"},on:{change:this.uploadFile}})])]),t("small",{class:s.a.copyright},[t("a",{attrs:{href:"https://github.com/xg4/notes",target:"_blank"}},[t("i",{class:"x-icon x-icon-github-fill"})]),t("p",["© 2019 xg4"])])])}}}}]);