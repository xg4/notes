(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{"217d":function(i,e,t){i.exports={wrap:"profile-module_wrap_2j2yY",user:"profile-module_user_2QvtR",info:"profile-module_info_2gIAn",name:"profile-module_name_2GGm0",id:"profile-module_id_zmVFP",avatar:"profile-module_avatar_P2NcI",icon:"profile-module_icon_1E9Ty",group:"profile-module_group_1X04g",copyright:"profile-module_copyright_34gEn"}},"4bd4":function(i,e,t){"use strict";var n=t("4d26"),o=t.n(n),a=t("4f16"),r=t.n(a);e["a"]={props:{src:String,size:String},data:function(){return{loading:!0,error:!1}},watch:{src:function(){this.loading=!0,this.error=!1}},computed:{url:function(){return this.src||this.$store.state.user.avatar}},methods:{onLoad:function(){this.loading=!1},onError:function(){this.loading=!1,this.error=!0},renderPlaceholder:function(){var i=this.$createElement;return this.loading?i("div",{class:r.a.loading},[i("i",{class:o()("x-icon x-icon-img",r.a.icon)})]):this.error?i("div",{class:r.a.error},[i("i",{class:o()("x-icon x-icon-img-fail",r.a.icon)})]):void 0}},render:function(){var i=arguments[0];return i("div",{class:o()(r.a.avatar,r.a[this.size])},[this.renderPlaceholder(),i("transition",{attrs:{name:"animate-fade"}},[i("img",{directives:[{name:"show",value:!this.error}],attrs:{src:this.url},on:{load:this.onLoad,error:this.onError}})])])}}},"4f16":function(i,e,t){i.exports={avatar:"index-module_avatar_2tQ_M",mini:"index-module_mini_3Xx2a",icon:"index-module_icon_3B6sM",sm:"index-module_sm_1nsGH",lg:"index-module_lg_2k_pX",loading:"index-module_loading_1BYTB",error:"index-module_error_3HMDB"}},fd3e:function(i,e,t){"use strict";t.r(e);t("7f7f"),t("96cf");var n=t("3b8d"),o=t("4d26"),a=t.n(o),r=t("217d"),s=t.n(r),l=t("ed08"),c=t("4bd4");e["default"]={methods:{uploadFile:function(){var i=Object(n["a"])(regeneratorRuntime.mark(function i(e){var t,n,o;return regeneratorRuntime.wrap(function(i){while(1)switch(i.prev=i.next){case 0:if(t=e.target.files,n=t[0],n){i.next=4;break}return i.abrupt("return");case 4:return i.next=6,Object(l["h"])(n);case 6:o=i.sent,this.$store.dispatch("UPLOAD_DATA",o);case 8:case"end":return i.stop()}},i,this)}));function e(e){return i.apply(this,arguments)}return e}(),handleUpload:function(){var i=this;this.$dialog.confirm({title:"数据同步",message:"您确定要同步上传数据？\n将根据最后的更新时间进行合并"}).then(function(){i.$refs.file.click(),i.$dialog.close()}).catch(function(){})},handleDownload:function(){var i=this;this.$dialog.confirm({title:"导出数据",message:l["c"].isDesktop()?"您确定要导出数据吗？":"请您在PC浏览器上进行操作\n移动端可能操作失败"}).then(function(){i.$store.dispatch("DOWNLOAD_DATA").then(function(){}).catch(function(e){var t=e.message;i.$dialog({title:"下载失败",message:t})})}).catch(function(){})}},render:function(){var i=arguments[0];return i("div",{class:s.a.wrap},[i("router-link",{attrs:{to:"/settings"},class:s.a.user},[i("div",{class:s.a.avatar},[i(c["a"],{attrs:{size:"sm"}})]),i("div",{class:s.a.info},[i("b",{class:s.a.name},[this.$store.state.user.name]),i("p",{class:a()(s.a.id,"ellipsis")},["id:",this.$store.state.user.id])])]),i("van-cell-group",{class:s.a.group},[i("van-cell",{attrs:{title:"导出数据",isLink:!0},on:{click:this.handleDownload}},[i("i",{class:a()(s.a.icon,"x-icon x-icon-download"),slot:"icon"})]),i("van-cell",{attrs:{title:"导入数据",isLink:!0},on:{click:this.handleUpload}},[i("i",{class:a()(s.a.icon,"x-icon x-icon-upload"),slot:"icon"}),i("input",{style:{display:"none"},ref:"file",attrs:{type:"file"},on:{change:this.uploadFile}})])]),i("van-cell-group",[i("van-cell",{attrs:{title:"反馈",isLink:!0,url:"https://github.com/xg4/notes/issues"}},[i("i",{class:a()(s.a.icon,"x-icon x-icon-bug"),slot:"icon"})])]),i("small",{class:s.a.copyright},[i("a",{attrs:{href:"https://github.com/xg4/notes",target:"_blank"}},[i("i",{class:"x-icon x-icon-github-fill"})]),i("p",["© 2019 xg4"])])])}}}}]);